plot.bathy(bathymetry,
image = TRUE,
land = FALSE,
bpal = list(                       c(min(bathymetry), 0, blues(100))))
plot.bathy(bathymetry,
image = TRUE,
land = TRUE,
n=0,
bpal = list(c(0, max(bathymetry), greys(100)),
c(min(bathymetry), 0, blues(100))))
bathymetry <- getNOAA.bathy(lonmin,lonmax,latmin,latmax,resolution=2,keep=TRUE)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,colour="transparent")
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent")
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue',alpha=0.9)+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z),alpha=0.9)+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z),alpha=0.9)+
scale_colour_gradient2(high='lightblue1',low='darkblue',na.value = "transparent")+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue',na.value = "transparent")+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z),na.value = "transparent")+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,aes(fill=NAME_1))+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,aes(fill=NAME_1))+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
Canada <- getData('GADM', country="CAN", level=1) %>%
st_as_sf() %>%
filter(NAME_1=="Nova Scotia"|
NAME_1=="Prince Edward Island"|
NAME_1=="New Brunswick")
ggplot() +
geom_sf(data=Canada,aes(fill=NAME_1))
x=1
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill=NAME_1)+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill=Canada$NAME_1)+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada)+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
x=0.2
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada)+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
scale_colour_gradient2(high='lightblue1',low='darkblue')+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x), ylim = c(latmin-x,latmax+x),expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='black')
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F,
crs = "+proj=aea +lat_1=40 +lat_2=60 +lat_0=40 +lon_0=-60 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs +ellps=GRS80 +towgs84=0,0,0")
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
# expand = F,
crs = "+proj=aea +lat_1=40 +lat_2=60 +lat_0=40 +lon_0=-60 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs +ellps=GRS80 +towgs84=0,0,0")
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='black')+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow')+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
stbb <- sp::bbox(bb)
stbb <- sp::bbox(as(bb,"Spatial")
lat1 <- stbb[2,1]
stbb <- sp::bbox(as(bb,"Spatial"))
lat1 <- stbb[2,1]
lat2 <- stbb[2,2]
lng2 <- stbb[1,2]
dlat <- (lat2-lat1)/10
dlng <- (lng2-lng1)/10
grid <- expand.grid(lat=0:9,lng=0:9)
grid$lng1 <- lng1+dlng*grid$lng
grid$lat1 <- lat1+dlat*grid$lat
grid$lng2 <- lng2-dlng*(9-grid$lng)
grid$lat2 <- lat2-dlat*(9-grid$lat)
for(i in 1:nrow(grid)){
print(paste("downloading",i,"of",nrow(grid)))
stbb <- matrix(grid[i,3:6],nrow=2)
geom <- paste0("POLYGON ((",
stbb[1,2]," ",stbb[2,2],", ",
stbb[1,2]," ",stbb[2,1],", ",
stbb[1,1]," ",stbb[2,1],", ",
stbb[1,1]," ",stbb[2,2],", ",
stbb[1,2]," ",stbb[2,2],"))")
# geom <- as_wkt(res)
assign(paste0("data_",i),occurrence(geometry=geom))
}
View(grid)
geom <- paste0("POLYGON ((",
stbb[1,2]," ",stbb[2,2],", ",
stbb[1,2]," ",stbb[2,1],", ",
stbb[1,1]," ",stbb[2,1],", ",
stbb[1,1]," ",stbb[2,2],", ",
stbb[1,2]," ",stbb[2,2],"))")
bb$geometry
OBIS <- occurence(geometry=bb$geometry)
require(robis)
OBIS <- occurence(geometry=bb$geometry)
OBIS <- robis::occurence(geometry=bb$geometry)
remove.packages("robis")
install.packages("robis")
if(!"robis" %in% installed.packages()) devtools::install_github("iobis/robis")
require(sf)
require(robis)
OBIS <- robis::occurence(geometry=bb$geometry)
OBIS <- occurence(geometry="POLYGON ((-134.392942597 47.546208344, -134.392942597 46.487793512, -135.74520833 46.487793512, -135.74520833 47.546208344, -134.392942597 47.546208344))")
require(robis)
OBIS <- occurence(geometry="POLYGON ((-134.392942597 47.546208344, -134.392942597 46.487793512, -135.74520833 46.487793512, -135.74520833 47.546208344, -134.392942597 47.546208344))")
require(tidyverse)
require(sf)
require(robis)
require(marmap)
require(raster)
# require()
#define the corners
latmax <- 46.25
latmin <- 45.5
lonmax <- -61.25
lonmin <- -62.25
#create a matrix
bbmat <- cbind(
c(lonmin,lonmax,lonmax,lonmin,lonmin),
c(latmin,latmin,latmax,latmax,latmin)
)
# make the matrix a 'simple features' polygon
bbsf <- st_polygon(list(bbmat))
# and let's give it information about the projection:
bbsfc <- st_sfc(bbsf,crs="+proj=longlat +datum=WGS84")
# finally, let's make it a simple features data.frame
bb <- st_sf(name="Study Site",geometry=bbsfc)
str(bb)
# plot it!
ggplot(bb)+
geom_sf()
bathymetry <- getNOAA.bathy(lonmin,lonmax,latmin,latmax,resolution=1,keep=TRUE)
plot.bathy(bathymetry,image=T,drawlabels=TRUE)
blues <- colorRampPalette(c("darkblue", "lightblue1"))
greys <- colorRampPalette(c(grey(0.4),grey(0.99)))
plot.bathy(bathymetry,
image = TRUE,
land = TRUE,
n=0,
bpal = list(c(0, max(bathymetry), greys(100)),
c(min(bathymetry), 0, blues(100))))
# this is a 'bathy' object and you could plot it as is with the tools provided in marmap, but to keep things 'simple' I'm going to convert to sf. There is no direct method yet, so... don't judge me!
# convert from bathy to raster to 'sp' polygon to simple features
# bathypoly <- marmap::as.raster(bathymetry) %>%
# rasterToPolygons() %>% st_as_sf
bathyras <- fortify.bathy(bathymetry)
bathyras$z[bathyras$z>0] <- NA
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='black')
Canada <- getData('GADM', country="CAN", level=1) %>%
st_as_sf() %>%
filter(NAME_1=="Nova Scotia"|
NAME_1=="Prince Edward Island"|
NAME_1=="New Brunswick")
ggplot() +
geom_sf(data=Canada,aes(fill=NAME_1))
x=0.2
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
OBIS <- occurence(geometry="POLYGON ((-134.392942597 47.546208344, -134.392942597 46.487793512, -135.74520833 46.487793512, -135.74520833 47.546208344, -134.392942597 47.546208344))")
require(robis)
OBIS <- occurence(geometry="POLYGON ((-134.392942597 47.546208344, -134.392942597 46.487793512, -135.74520833 46.487793512, -135.74520833 47.546208344, -134.392942597 47.546208344))")
OBIS <- occurence(geometry="POLYGON ((-134.392942597 47.546208344, -134.392942597 46.487793512, -135.74520833 46.487793512, -135.74520833 47.546208344, -134.392942597 47.546208344))")
OBIS <- occurrence(geometry="POLYGON ((-134.392942597 47.546208344, -134.392942597 46.487793512, -135.74520833 46.487793512, -135.74520833 47.546208344, -134.392942597 47.546208344))")
OBIS <- occurrence(geometry=bb$geometry)
bb$geometry
st_as_binary(bb$geometry)
require(tidyverse)
require(sf)
require(robis)
require(marmap)
require(raster)
# require()
#define the corners
latmax <- 46.25
latmin <- 45.5
lonmax <- -61.25
lonmin <- -62.25
#create a matrix
bbmat <- cbind(
c(lonmin,lonmax,lonmax,lonmin,lonmin),
c(latmin,latmin,latmax,latmax,latmin)
)
# make the matrix a 'simple features' polygon
bbsf <- st_polygon(list(bbmat))
# and let's give it information about the projection:
bbsfc <- st_sfc(bbsf,crs="+proj=longlat +datum=WGS84")
# finally, let's make it a simple features data.frame
bb <- st_sf(name="Study Site",geometry=bbsfc)
str(bb)
# plot it!
ggplot(bb)+
geom_sf()
bathymetry <- getNOAA.bathy(lonmin,lonmax,latmin,latmax,resolution=1,keep=TRUE)
plot.bathy(bathymetry,image=T,drawlabels=TRUE)
blues <- colorRampPalette(c("darkblue", "lightblue1"))
greys <- colorRampPalette(c(grey(0.4),grey(0.99)))
plot.bathy(bathymetry,
image = TRUE,
land = TRUE,
n=0,
bpal = list(c(0, max(bathymetry), greys(100)),
c(min(bathymetry), 0, blues(100))))
# this is a 'bathy' object and you could plot it as is with the tools provided in marmap, but to keep things 'simple' I'm going to convert to sf. There is no direct method yet, so... don't judge me!
# convert from bathy to raster to 'sp' polygon to simple features
# bathypoly <- marmap::as.raster(bathymetry) %>%
# rasterToPolygons() %>% st_as_sf
bathyras <- fortify.bathy(bathymetry)
bathyras$z[bathyras$z>0] <- NA
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='black')
Canada <- getData('GADM', country="CAN", level=1) %>%
st_as_sf() %>%
filter(NAME_1=="Nova Scotia"|
NAME_1=="Prince Edward Island"|
NAME_1=="New Brunswick")
ggplot() +
geom_sf(data=Canada,aes(fill=NAME_1))
x=0.2
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
st_as_binary(bb$geometry)
st_as_sf(bb$geometry)
st_as_sfc(bb$geometry)
st_as_sfc(bb)
st_as_binary(bb)
st_as_text(bb)
st_as_text(bb$geometry)
OBIS <- occurrence(geometry=st_as_text(bb$geometry))
require(tidyverse)
require(sf)
require(robis)
require(marmap)
require(raster)
# require()
write.csv(OBIS,'obis.csv')
write.csv(OBIS,'obis.csv',row.names = FALSE)
OBIS <- read_csv("obis.csv")
write.csv(OBIS,'obis.csv',row.names = FALSE)
OBIS <- occurrence(geometry=st_as_text(bb$geometry))
write.csv(OBIS,'obis.csv',row.names = FALSE)
OBIS <- read.csv("obis.csv")
OBIS <- st_as_sf(OBIS,
coords = c("decimalLongitude", "decimalLatitude"),
crs="+proj=longlat +datum=WGS84") %>%
filter(!is.na(species))
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_sf(data=OBIS)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_sf(data=OBIS,aes(color=phylum))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_sf(data=OBIS,aes(fill=phylum))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
OBIS <- read.csv("obis.csv")
OBIS <- st_as_sf(OBIS,
coords = c("decimalLongitude", "decimalLatitude"),
crs="+proj=longlat +datum=WGS84",
remove=FALSE) %>%
filter(!is.na(species))
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_points(data=OBIS,aes(colour=phylum,x=decimalLongitude,y=decimalLatitude))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=phylum,x=decimalLongitude,y=decimalLatitude))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_jitter(data=OBIS,aes(colour=phylum,x=decimalLongitude,y=decimalLatitude))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_jitter(data=OBIS,aes(colour=phylum,x=decimalLongitude,y=decimalLatitude,size=2))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=phylum,x=decimalLongitude,y=decimalLatitude,size=2))+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
names(OBIS)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(OBIS$phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(data=OBIS,phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot() +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(OBIS$phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot(OBIS) +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
# geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
# geom_sf(data=Canada,fill='grey40')+
ggplot(OBIS) +
# geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
# geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot(OBIS) +
# geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
# geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(colour=order,x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(~phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot(OBIS) +
# geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
# geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
# geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(~phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot(OBIS) +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(x=decimalLongitude,y=decimalLatitude,size=2))+
facet_wrap(~phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
ggplot(OBIS) +
geom_raster(data=bathyras,aes(x=x,y=y,fill=z))+
geom_sf(data=bb,fill="transparent",colour='yellow',size=2)+
geom_sf(data=Canada,fill='grey40')+
geom_point(data=OBIS,aes(x=decimalLongitude,y=decimalLatitude))+
facet_wrap(~phylum)+
coord_sf(xlim = c(lonmin-x,lonmax+x),
ylim = c(latmin-x,latmax+x),
expand = F)
